import{r as p}from"./index-r3Kwr9BP.js";const h=()=>{const[c,e]=p.useState("waiting"),s=p.useCallback(async(a,o="GET",m=null,d={"Content-Type":"application/json"})=>{e("loading");try{const r=await fetch(a,{method:o,body:m,headers:d});if(!r.ok)throw new Error(`Could not fetch ${a}, status: ${r.status}`);return await r.json()}catch(r){throw e("error"),r}},[]),u=p.useCallback(()=>e("waiting"),[]);return{process:c,setProcess:e,request:s,clearError:u}};var g={BASE_URL:"/marvel-portal/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const i=g.VITE_API_BASE,l=g.VITE_API_KEY,E=210,f=0,_=()=>{const{process:c,setProcess:e,request:s,clearError:u}=h(),a=t=>({id:t.id,name:t.name,description:t.description?`${t.description.slice(0,210)}...`:"There is no description for this character",thumbnail:t.thumbnail.path+"."+t.thumbnail.extension,homepage:t.urls[0].url,wiki:t.urls[1].url,comics:t.comics.items.splice(0,10)}),o=t=>({id:t.id,title:t.title||"Title is not available",thumbnail:t.thumbnail.path+"."+t.thumbnail.extension,price:t.prices[0].price?t.prices[0].price+"$":"Price is not available",pageCount:t.pageCount?`${t.pageCount} pages`:"No information about the number of pages",language:t.textObjects.language||"en-us",description:t.description||"There is no description"});return{process:c,setProcess:e,getAllCharacters:async(t=E)=>(await s(`${i}characters?limit=9&offset=${t}&${l}`)).data.results.map(a),getCharacter:async t=>{const n=await s(`${i}characters/${t}?${l}`);return a(n.data.results[0])},getComic:async t=>{const n=await s(`${i}comics/${t}?${l}`);return o(n.data.results[0])},clearError:u,getAllComics:async(t=f)=>(await s(`${i}comics?limit=8&offset=${t}&${l}`)).data.results.map(o)}};export{_ as u};
