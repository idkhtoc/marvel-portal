import{r as m}from"./index-Cuvk2aXt.js";const d=()=>{const[l,a]=m.useState("waiting"),r=m.useCallback(async(s,n="GET",o=null,c={"Content-Type":"application/json"})=>{a("loading");try{const e=await fetch(s,{method:n,body:o,headers:c});if(!e.ok)throw new Error(`Could not fetch ${s}, status: ${e.status}`);return await e.json()}catch(e){throw a("error"),e}},[]),u=m.useCallback(()=>a("waiting"),[]);return{process:l,setProcess:a,request:r,clearError:u}},$=()=>{const{process:l,setProcess:a,request:r,clearError:u}=d(),s="https://gateway.marvel.com:443/v1/public/",n="apikey=5feaf92d234eb7f2aa5a014a2bd2e75d",o=210,c=0,e=t=>({id:t.id,name:t.name,description:t.description?`${t.description.slice(0,210)}...`:"There is no description for this character",thumbnail:t.thumbnail.path+"."+t.thumbnail.extension,homepage:t.urls[0].url,wiki:t.urls[1].url,comics:t.comics.items.splice(0,10)}),p=t=>({id:t.id,title:t.title||"Title is not available",thumbnail:t.thumbnail.path+"."+t.thumbnail.extension,price:t.prices[0].price?t.prices[0].price+"$":"Price is not available",pageCount:t.pageCount?`${t.pageCount} pages`:"No information about the number of pages",language:t.textObjects.language||"en-us",description:t.description||"There is no description"});return{process:l,setProcess:a,getAllCharacters:async(t=o)=>(await r(`${s}characters?limit=9&offset=${t}&${n}`)).data.results.map(e),getCharacter:async t=>{const i=await r(`${s}characters/${t}?${n}`);return e(i.data.results[0])},_baseOffset:o,_baseComicOffset:c,getComic:async t=>{const i=await r(`${s}comics/${t}?${n}`);return p(i.data.results[0])},clearError:u,getAllComics:async(t=c)=>(await r(`${s}comics?limit=8&offset=${t}&${n}`)).data.results.map(p)}};export{$ as u};
