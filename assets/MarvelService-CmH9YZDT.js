import{r as p}from"./index-Dog9rYPr.js";const h=()=>{const[l,e]=p.useState("waiting"),s=p.useCallback(async(r,o="GET",d=null,g={"Content-Type":"application/json"})=>{e("loading");try{const a=await fetch(r,{method:o,body:d,headers:g});if(!a.ok)throw new Error(`Could not fetch ${r}, status: ${a.status}`);return await a.json()}catch(a){throw e("error"),a}},[]),u=p.useCallback(()=>e("waiting"),[]);return{process:l,setProcess:e,request:s,clearError:u}},i="https://gateway.marvel.com:443/v1/public/",c="apikey=5feaf92d234eb7f2aa5a014a2bd2e75d",C=210,$=0,f=()=>{const{process:l,setProcess:e,request:s,clearError:u}=h(),r=t=>({id:t.id,name:t.name,description:t.description?`${t.description.slice(0,210)}...`:"There is no description for this character",thumbnail:t.thumbnail.path+"."+t.thumbnail.extension,homepage:t.urls[0].url,wiki:t.urls[1].url,comics:t.comics.items.splice(0,10)}),o=t=>({id:t.id,title:t.title||"Title is not available",thumbnail:t.thumbnail.path+"."+t.thumbnail.extension,price:t.prices[0].price?t.prices[0].price+"$":"Price is not available",pageCount:t.pageCount?`${t.pageCount} pages`:"No information about the number of pages",language:t.textObjects.language||"en-us",description:t.description||"There is no description"});return{process:l,setProcess:e,getAllCharacters:async(t=C)=>(await s(`${i}characters?limit=9&offset=${t}&${c}`)).data.results.map(r),getCharacter:async t=>{const n=await s(`${i}characters/${t}?${c}`);return r(n.data.results[0])},getComic:async t=>{const n=await s(`${i}comics/${t}?${c}`);return o(n.data.results[0])},clearError:u,getAllComics:async(t=$)=>(await s(`${i}comics?limit=8&offset=${t}&${c}`)).data.results.map(o)}};export{f as u};
